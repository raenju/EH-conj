\chapter{Primeiros Resultados}
\label{cap:livretriangulos}

Um possível primeiro passo para o estudo da conjectura de Erd\H{o}s e Hajnal é fixar cada parâmetro com o valor não-trivial mais simples. No caso, consideraremos os casos em que $g=4$, ou seja, que os subgrafos que procuramos são livres de triângulos, e os casos em que $k=3$, ou seja, que os subgrafos contenham algum circuito ímpar.

\section{Grafos Livres de Triângulos}

Em \cite{rodl1977chromatic} R\"{o}dl demonstrou que para todo $k$, existe um número $f(k)$ tal que todo grafo com número cromático pelo menos $f(k)$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$. 

\begin{teorema}\label{rodlthm}
Para todo inteiro positivo $k$, existe um inteiro $f(k)$ tal que todo grafo $G$ com $\chi(G) \geq f(k)$ contém um subgrafo livre de triângulos $H$ com $\chi(H) \geq k$.
\end{teorema}

Em termos da conjectura de Erd\H{o}s e Hajnal, o Teorema \ref{rodlthm} mostra que $f(k,4)$ existe para todo $k$.

A prova de R\"{o}dl é bastante sucinta, feita por meio de apenas uma indução finita. Apresentaremos tal prova a seguir.

Mostraremos que para todo par de inteiros $m$ e $k$, existe $\phi(m,k)$ tal que todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo livre de triângulos com número cromático pelo menos $k$ ou contém um clique de tamanho $m$. 

E pelo teorema de Erd\H{o}s, existe um $m$ tal que $K_m$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$. Então tomando $m$ adequado, todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo livre de triângulos e com número cromático $k$.

\begin{lema}\label{livretriangulolema1}
Para todo par de inteiros $m,k$, existe um inteiro $\phi(m,k)$ tal que todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$, ou contém um clique de tamanho $m$.
\end{lema}

\begin{proof}(Lema \ref{livretriangulolema1})
Provaremos por indução em $m$. Claramente $\phi(2,k) = 2$ para todo $k$, pois todo grafo com número cromático pelo menos $2$ contém um $K_2$.

Dado um grafo $G = (V,E)$ e uma ordenação $<$ de seus vértices, seja $L(v,G)$ o grafo induzido pelos vizinhos à esquerda de $v$ em $G$, ou seja, induzido pelos vértices adjacentes a $v$ e menores que $v$ na ordenação.

\begin{figure}[H]
\centering
\begin{tikzpicture}[-latex ,auto ,node distance =0.7cm and 5cm, on grid,semithick ,state/.style ={circle, draw, text=white , minimum width =0.2 cm}]
    \node[circle, draw=black] (V) at (7,0) {$v$};
    
    \draw (0,0) circle (0.3);
    \draw (1,0) circle (0.3);
    \draw (2,0) circle (0.3);
    \draw (4,0) circle (0.3);
    
    \draw[dotted] (2,0) ellipse (3 and 0.7);
    
    \draw[-] (V) to [bend right=70] (0,0.3);
    \draw[-] (V) to [bend right=55] (1,0.3);
    \draw[-] (V) to [bend right=40] (2,0.3);
    \draw[-] (V) to [bend right=25] (4,0.3);
    
    \node at (2,-1.1) {$L(v,G)$};
    
    \draw[-] (V) to [bend left] (8,0.5);
    \draw[-] (V) to [bend left] (8,1.3);

\end{tikzpicture}
\caption{Para cada vértice $v$, definimos o subgrafo $L(v,G)$}
\label{fig:leftneighbor}
\end{figure}

Suponha que $\phi(m-1,k)$ existe. Então seja $G_0$ um grafo tal que \[\chi(G_0) = (k-1)^{\phi(m-1,k)-1}+1 =: \phi(m,k).\]

Se $G_0$ contém $K_m$ como subgrafo, concluímos a prova. Então suponha que $G_0$ não contém $K_m$ como subgrafo, e seja $<$ uma ordenação dos vértices de $G_0$. Note que para todo $v \in V(G_0)$ o grafo $L(v,G_0)$ não contém $K_{m-1}$, pois $v$ é adjacente a todos os vértices de $L(v,G_0)$, e logo um $K_{m-1}$ em $L(v,G_0)$ implica em $K_m$ ser um subgrafo de $G_0$.

Consideraremos os dois seguintes casos, se $\chi(L(v,G_0)) \geq \phi(m-1,k)$ para algum $v$, e se $\chi(L(v,G_0)) \leq \phi(m-1,k) - 1$ para todo $v$.

No caso de $\chi(L(v,G_0)) \geq \phi(m-1,k)$ para algum $v$, por hipótese de indução temos que para algum $v$, $L(v, G_0)$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$, ou contém um clique de tamanho $m-1$.

Se $L(v, G_0)$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$, como $L(v,G_0)$ é subgrafo de $G_0$, temos que $G_0$ contém um subgrafo livre livre de triângulos e com número cromático pelo menos $k$. E se $L(v, G_0)$ contém um clique de tamanho $m-1$, como $v$ é adjacente a todo vértice de $L(v, G_0)$ em $G_0$, temos que $G_0$ contém um clique de tamanho $m$.

No caso $\chi(L(v,G_0)) \leq \phi(m-1,k)-1$ para todo $v\in G_0$, considere uma $l$-coloração de cada $L(v, G_0)$, onde $l \leq \phi(m-1, k)$. Seja $B_i^v$ o conjunto de vértices de $L(v, G_0)$ de cor $i$, com $i \leq l$. Então $\cup_{i=1}^l B_i^v$ é a $l$-coloração de $L(v,G_0)$ considerada.

Considere a seguinte partição de $E(G_0)$.

\[E(G_0) = E_1 \cup \cdots \cup E_{\phi(m-1,k)-1},\]
\[E_i = \{\{v_j,v\} : v_j \in B_i^v, v\in V(G_0)\}.\]

Ou seja, uma aresta $\{v_j, v\}$, onde $v_j < v$, está na parte $E_i$ se $v_j$ recebeu a cor $i$ na $l$-coloração de $L(v, G_0)$.

\begin{figure}[H]
\centering
\begin{tikzpicture}[-latex ,auto ,node distance =0.7cm and 5cm, on grid,semithick ,state/.style ={circle, draw, text=white , minimum width =0.2 cm}]
    \node[circle, draw=black] (V) at (5,0) {$v$};
    \node[circle, draw=black, fill=red, fill opacity=0.5] (A) at (0,0) {$v_1$};
    \node[circle, draw=black, fill=blue, fill opacity=0.5] (B) at (2,0) {$v_2$};
    
    \draw[-, color=red] (V) to [bend right=70] (A);
    \draw[-, color=blue] (V) to [bend right=55] (B);

\end{tikzpicture}
\caption{Cada aresta entre $v$ e $v_i\in L(v,G)$ recebe a cor de $v_i$ na coloração de $L(v,G)$.}
\label{fig:trianglefree-edgecolor}
\end{figure}

Mostraremos que $\chi(V(G_0),E_i) \geq k$ para algum $i$. Suponha por contradição que  $\chi(V(G_0),E_i) \leq k-1$ para todo $i$. Podemos colorir os vértices de $G_0$ usando o vetor das cores das partes, ou seja, um vértice $v$ de $G_0$ pode ser colorido com o vetor $w$, onde $w_i$ é a cor atribuída ao vértice $v$ na $(k-1)$-coloração de $\chi(V(G_0),E_i)$. Tal coloração de $G_0$ é própria, e usa no máximo $(k-1)^{\phi(m-1,k)-1}$ cores, contradição com o fato de que $\chi(G_0) = (k-1)^{\phi(m-1,k)-1}+1$. Portanto existe um $i$ tal que $\chi(V(G_0), E_i) \geq k$.

Basta mostrar que $(V(G_0),E_i)$ é livre de triângulos. Suponha por contradição que os vértices $v_1,v_2,v_3$ formam um triângulo em $(V(G_0),E_i)$, sem perda de generalidade digamos que $v_1 < v_2 < v_3$. Como $v_1,v_2 < v_3$, temos que $v_1,v_2\in L(v_3, G_0)$, e como $v_1,v_2 \in (V(G_0),E_i)$, temos que $v_1$ e $v_2$ receberam a cor $i$ na coloração de $L(v_3, G_0)$, contradição pois a aresta $v_1v_2 \in L(v_3, G_0)$, e logo $v_1$ e $v_2$ não podem receber a mesma cor. Portanto $(V(G_0),E_i)$ é livre de triângulos.

\begin{figure}[H]
\centering
\begin{tikzpicture}[-latex ,auto ,node distance =0.7cm and 5cm, on grid,semithick ,state/.style ={circle, draw, text=white , minimum width =0.2 cm}]
    \node[circle, draw=black] (V) at (5,0) {$v_3$};
    \node[circle, draw=black, fill=red, fill opacity=0.5] (A) at (0,0) {$v_1$};
    \node[circle, draw=black, fill=red, fill opacity=0.5] (B) at (2.5,0) {$v_2$};
    
    \draw[-, color=red] (V) to [bend right=70] (A);
    \draw[-, color=red] (V) to [bend right=55] (B);
    \draw[-, color=red] (A) to (B);

\end{tikzpicture}
\caption{Se $v_1v_2v_3$ é um triângulo em $(V(G_0),E_i)$, os vértices $v_1$ e $v_2$ recebem a mesma cor em $L(v_3, G_0)$, e logo $v_1v_2$ é uma aresta monocromática em $L(v_3, G_0)$.}
\label{fig:trianglefree-trianglefree}
\end{figure}

Logo para algum $i$, temos que $(V(G_0), E_i)$ é livre de triângulos e tem número cromático pelo menos $k$.

Portanto, temos que para todo $m,k$, existe um inteiro $\phi(m,k)$ tal que todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo com número cromático pelo menos $k$ ou contém um clique de tamanho $m$.
\end{proof}

\begin{proof}{(Teorema \ref{rodlthm})}

Seja $k$ o parâmetro do teorema. Pelo teorema de Erd\H{o}s, existe um grafo livre de triângulos e com número cromático pelo menos $k$, então seja $m$ o tamanho de um menor tal grafo.

Pelo Lema \ref{livretriangulolema1}, existe um inteiro $\phi(m,k)$ tal que todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo livre de triângulos com número cromático pelo menos $k$, ou contém um clique de tamanho $m$.

Pela escolha de $m$, um clique de tamanho $m$ contém um subgrafo livre de triângulos com número cromático pelo menos $k$. Logo todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$.

\end{proof}

Temos então que a conjectura de Erd\H{o}s e Hajnal vale para $g=4$, ou seja, $f(k,4)$ existe para todo $k$. A conjectura está em aberto para $g > 4$.

\section{Número cromático na demonstração de R\"{o}dl}

Na seção anterior, mostramos que existe um inteiro $\phi(m,k)$ tal que todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo livre de triângulos com número cromático pelo menos $k$, ou contém um clique de tamanho $m$. E tomando um valor conveniente de $m$, mostramos que todo grafo com número cromático pelo menos $\phi(m,k)$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$.

Temos então que $f(k,4) \leq \phi(m,k)$. É interessante determinar o valor de $\phi(m,k)$, para termos um limitante superior para $f(k,4)$.

Temos que $m$ deve ser tal que $K_m$ contém um subgrafo livre de triângulos e com número cromático pelo menos $k$. Pelo teorema de Erd\H{o}s, temos que existe um grafo livre de triângulos e com número cromático pelo menos $k$ com $k^{3g}$ vértices, ou seja, podemos tomar $m := k^{12}$.

Sabemos que $\phi(2,k) = 2$, e

\[\phi(m,k) = (k-1)^{\phi(m-1,k)-1}+1.\]

Note que ao expandir o expoente $\phi(m-1,k)-1$, temos

\begin{equation*}
\setlength{\jot}{5pt}
\begin{aligned}
\phi(m-1,k)-1 &= (k-1)^{\phi(m-2,k)-1}+1-1 \\
&= (k-1)^{\phi(m-2,k)-1}.
\end{aligned}
\end{equation*}

Logo, temos que 

\[\phi(m,k) = (k-1)^{(k-1)^{\cdots^{(k-1)^{\phi(2,k)-1}}}}+1,\]

onde $k-1$ ocorre $m-2$ vezes, e $\phi(2,k)-1 = 1$. Portanto, temos que $\phi(m,k) = 1+(k-1)\uparrow\uparrow m-2$, usando a notação de Knuth.

Temos então que $f(k,4) \leq 1+ (k-1) \uparrow\uparrow (k^{12}-2)$.

\section{Circuitos Ímpares}

Outra possível forma de estudar a conjectura de Erd\H{o}s e Hajnal é fixar o valor de $k$. Em particular, consideraremos o caso em que $k=3$, ou seja, queremos garantir a existência de circuitos ímpares grandes como subgrafos.

Considere o seguinte resultado de Erd\H{o}s \cite{erdHos1966chromatic}.

\begin{teorema}\label{teocircimpar}
Se todo circuito ímpar de um grafo $G$ tem comprimento no máximo $2r-1$, então $\chi(G) \leq 2r$.
\end{teorema}

Demonstraremos o Teorema \ref{teocircimpar} de acordo com a prova apresentada por Bollobás em \cite{bollobas2004extremal}.

\begin{lema}\label{lemacircimpar}
Seja $G$ um grafo $2$-conexo contendo um circuito ímpar. Seja $C$ um circuito par em $G$. Então existem vértices $x,y \in C$ e um caminho $P$ entre $x$ e $y$ independente de $C$ tal que $d_C(x,y) \not\equiv d_P(x,y)$ (mod $2$), onde $d_H(x,y)$ denota a distância entre $x$ e $y$ em $H$.
\end{lema}

\begin{proof}(Lema \ref{lemacircimpar})
Note que existe um circuito ímpar que intersecta $C$ em pelo menos $2$ vértices. Denote um tal circuito por $D = x_1, x_2, \cdots, x_{2l+1}$.

Tome

\[V(C) \cap V(D) = \{x_{i_1}, x_{i_2}, \cdots, x_{i_r} : 1\leq i_1 < \cdots < i_r \leq 2l+1 \},\ r\geq 2.\]

Suponha que a afirmação do lema seja falsa. Então temos

\[d_C(x_{i_j}, x_{i_{j+1}}) \equiv i_{j+1} - i_j\ (\text{mod } 2),\ 1\leq j< r,\]

e

\[d_C(x_{i_r}, x_{i_1}) \equiv i_1 - i_r + 1\ (\text{mod } 2).\]

Somando as congruências acima, temos que o lado esquerdo é $0$, pois $C$ é um circuito par, e o lado direito é $1$. 

Portanto, para algum par de vértices $x,y$ de $C$ e algum caminho $P$ entre $x$ e $y$ independente de $C$, temos que $d_C(x,y) \not\equiv d_P(x,y)$ (mod $2$).
\end{proof}

\begin{proof}(Teorema \ref{teocircimpar})
A prova será feita por indução na ordem de $G$. Suponha que $\chi(G) > 2r$ mas o teorema é verdadeiro apenas para grafos de ordem menor que $|G|$.

Note que para todo vértice $x\in V(G)$ temos que $\chi(G - x) = 2r$, logo $\delta(G) \geq 2r$. Seja $Q = x_1,x_2,\cdots,x_q$ um caminho mais longo em $G$. Logo $\Gamma(x_1) \subset \{x_2,x_3,\cdots, x_q\}$. Sejam
\[J = \{i : x_i \in \Gamma(x_1)\},\]
\[j = \max(J).\]

Então $|J| \geq 2r$, e para todo $i\geq r$, temos que $2i+1\not\in J$ e $j-2i+1\not\in J$. Logo $j\geq 4r$. O grafo $G$ contém o circuito $C=x_1,x_2,\cdots,x_j$, logo $j$ é par.

\begin{figure}[H]
\centering
\begin{tikzpicture}[-latex ,auto ,node distance =0.7cm and 5cm, on grid,semithick ,state/.style ={circle, draw, text=white , minimum width =0.2 cm}]
    \node[circle, draw=black, label=below:{$x_1$}] (x1) at (0,0) {};
    \node[circle, draw=black, label=below:{$x_2$}] (x2) at (2,0) {};
    \node[circle, draw=black, label=below:{$x_{2i}$}] (xi) at (6,0) {};
    \node[circle, draw=black, label=below:{$x_{2i+1}$}] (xi1) at (8,0) {};
    \node (dot) at (4,0) {$\cdots$};
    
    \node[circle, draw=black, label=below:{$x_1$}] (y1) at (0,-3) {};
    \node[circle, draw=black, label=below:{$x_{j-2i+1}$}] (yj1) at (4,-3) {};
    \node[circle, draw=black, label=below:{$x_j$}] (yj) at (8,-3) {};
    \node (ydot) at (6, -3) {$\cdots$};
    
    \draw[-] (x1) to [bend left=55] (xi1);
    \draw[-] (x1) to (x2);
    \draw[-] (xi) to (xi1);
    \draw[-] (dot) to (x2);
    \draw[-] (dot) to (xi);
    
    \draw[-] (y1) to [bend left=55] (yj);
    \draw[-] (y1) to [bend left=35] (yj1);
    \draw[-] (ydot) to (yj);
    \draw[-] (ydot) to (yj1);
\end{tikzpicture}
\caption{Se $2i+1\in J$ ou $j-2i+1\in J$, podemos determinar um circuito ímpar de comprimento pelo menos $2r+1$.}
\label{fig:circimpar-j2r}
\end{figure}

Pelo Lema \ref{lemacircimpar}, existe um caminho $P$ de comprimento $p$ entre $x_1$ e $x_l$, e $p \not\equiv l$ (mod $2$). Então $x_1 x_2 \cdots x_l P x_1$ e $x_l x_{l+1} \cdots x_1 P x_l$ são circuitos ímpares, e a soma de seus comprimentos é pelo menos $4r+2$, logo algum dos circuitos ímpares tem comprimento pelo menos $2r+1$, uma contradição.
\end{proof}

Pelo Teorema \ref{teocircimpar}, todo grafo $G$ com $\chi(G) \geq 2r+1$ contém um circuito ímpar de comprimento pelo menos $2r+1$. Então em termos da conjectura de Erd\H{o}s e Hajnal, temos que $f(3,2r+1) \leq 2r+1$.

De fato, temos que $f(3,2r+1) = 2r+1$ pois claramente $K_{2r}$ não contém um circuito ímpar de comprimento pelo menos $2r+1$, portanto nem todo grafo com número cromático $2r$ contém um circuito ímpar de comprimento pelo menos $2r+1$.

Note que ao tomar um valor par de $g$, queremos um circuito ímpar de comprimento pelo menos $2r$, o que é equivalente a procurar um circuito ímpar de comprimento pelo menos $2r+1$, logo temos que $f(3,2r) = f(3,2r+1)$.